(self.webpackChunkestimate_powerup=self.webpackChunkestimate_powerup||[]).push([[576],{1868:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});n(2791);var a=n(184);function s(){return(0,a.jsxs)(a.Fragment,{children:["Served from: ",window.location.host]})}function o(){return(0,a.jsxs)(a.Fragment,{children:["Version: ","0.15.5"]})}function r(e){return(0,a.jsxs)("div",{className:e.className,children:[(0,a.jsx)("span",{className:"deploy-text",children:(0,a.jsx)(o,{})}),(0,a.jsx)("span",{className:"deploy-text",children:(0,a.jsx)(s,{})})]})}},5209:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var a=n(2791),s=n(5728),o=n(3265),r=n(6683),i=n(4305),l=n(184);function c(e){var t;const n=e.summary,[o,c]=(0,a.useState)(!1),u=(0,r.Zt)(o);return(0,l.jsxs)("div",{className:"".concat(null!==(t=e.className)&&void 0!==t?t:""),children:[n.workMinutes>0?(0,l.jsx)("span",{className:"work-details link-like",onClick:()=>c((e=>!e)),children:"details"}):null,o&&void 0!==u?[...(0,i.EB)(n)].filter((e=>e.minutes>0)).map((e=>{var t;const n=u[e.memberId];return(0,l.jsxs)("div",{children:[null!==(t=null===n||void 0===n?void 0:n.fullName)&&void 0!==t?t:"<missing>",void 0!==n?[" "," (",n.username,")"]:null,": ",(0,s.JB)(e.minutes)]},e.memberId)})):null]})}var u=n(6594);function d(e){var t;const n=e.summary,a=(0,r.xr)("id"),i=(0,u.R)(n);if(!a)return null;const d=(null!==(t=e.margin)&&void 0!==t?t:0)>0?e.margin*n.estimateMinutes:0,m=d>0&&i.deltaMinutes<0?Math.min(-i.deltaMinutes,d):0,v=d-m,f=i.updatedEstimateMinutes>0&&i.updatedEstimateMinutes!==i.estimateMinutes;return(0,l.jsxs)("div",{className:e.className,children:[(0,l.jsxs)("div",{children:[f&&"Original ","Estimate: ",(0,s.JB)(i.estimateMinutes+d),d>0?[" "," (without margin: ",(0,s.JB)(i.estimateMinutes),")"]:null]}),f?(0,l.jsxs)("div",{children:["Updated Estimate: ",(0,s.JB)(i.updatedEstimateMinutes+v)]}):null,(0,l.jsxs)("div",{className:"flex",children:["Work: ",(0,s.JB)(i.workMinutes)," ",(0,l.jsx)(c,{className:"ml-2",summary:i})]}),(0,l.jsxs)("div",{children:["Remaining: ",(0,s.JB)(i.remainingMinutes+v),d>0&&v>0?[" "," (without margin: ",(0,s.JB)(i.remainingMinutes),")"]:null,0===v?[" "," (no margin left)"]:null]}),(0,l.jsxs)("div",{children:[(0,o.W)({delta:n.deltaMinutes>=0?n.deltaMinutes:n.deltaMinutes+Math.min(-n.deltaMinutes,v)}),m>0?[v>0?[" "," (without margin ",(0,o.W)({delta:n.deltaMinutes}),")"]:null,0===v?[" "," (no margin left)"]:null]:null]})]})}},732:(e,t,n)=>{"use strict";n.d(t,{b:()=>f});n(2791);var a=n(6258),s=n(4303),o=n(4305),r=n(1166),i=n(5728);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e.length<t?e:e.substring(0,t-3)+"..."}var c=n(146),u=n(6683),d=n(9697),m=n(8282),v=n(184);function f(e){var t,n,f,h;const p=(0,c.D)(),w=(0,a.k)(),y=(0,r.DP)(null===(t=w.value)||void 0===t?void 0:t.startDate),g=(0,s.th)("id"),M=(0,s.lg)(p,null===(n=w.value)||void 0===n?void 0:n.cardId,"id","name"),x=(0,u.Kb)(p,"id"),k=void 0!==(null===(f=w.value)||void 0===f?void 0:f.cardId)&&!w.isSaving;return g||k?(0,v.jsxs)("div",{className:"work-button-wrapper",children:[(0,v.jsxs)("button",{className:"work-button ".concat(k?"mod-danger":"mod-primary"),onClick:async t=>{if(void 0!==x)if(k||void 0===g){if(k){var n,a;const s=Math.round((0,d.qG)(w.value.startDate))/60;w.set(null);const r=await(0,o.oc)(p,w.value.cardId);await(0,o.Eo)(p,{...r,workMinutes:{...r.workMinutes,[x.id]:(null!==(n=r.workMinutes[x.id])&&void 0!==n?n:0)+s}},w.value.cardId),await(0,m.mY)(p,{action:async e=>(0===e.workMinutes&&(e.startDate=(0,d.HH)(e.startDate,-s)),e.workMinutes+=s,e),hoursPerDay:i.xZ,mouseEvent:t}),null===(a=e.onEstimateChanged)||void 0===a||a.call(e)}}else w.set({cardId:g.id,startDate:new Date}),(0,m.D3)(p,{hoursPerDay:i.xZ,mouseEvent:t})},children:[w.isSaving?"...":null,w.isSaving?null:[k?"End work":"Start work",k?" "+(0,i.yz)(y,{zero:""}):null,k&&(null===g||void 0===g?void 0:g.id)!==(null===(h=w.value)||void 0===h?void 0:h.cardId)?" (on".concat(g?" other":""," card").concat(void 0===M?"":': "'.concat(l(M.name,8),'"'),")"):null]]}),k?(0,v.jsx)("button",{className:"cancel-work-button",onClick:e=>p.popup({type:"confirm",title:"Cancel work?",message:"Are you sure you want to cancel the work in progress?",confirmText:"Yes",onConfirm:e=>(w.set(null),e.closePopup()),cancelText:"No",onCancel:e=>e.closePopup(),mouseEvent:e.nativeEvent}),children:"X"}):null]}):null}},4303:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>l,lg:()=>m,nb:()=>u,th:()=>d});var a=n(2791),s=n(1933),o=n(5678),r=n(146),i=n(9416);function l(e){const t="card",n=(0,s.useQueryClient)(),o=(0,s.useQuery)(t,(async()=>(await e.card("dueComplete")).dueComplete),{staleTime:1e3}),r=(0,a.useCallback)((e=>n.setQueryData(t,e)),[n]);return(0,a.useMemo)((()=>({...o,setData:r})),[o,r])}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const[r,l]=(0,a.useState)(),c=(0,a.useCallback)((async()=>{let t;try{t=await e.card(...n)}catch(a){return void console.warn("no card in context")}l(t)}),o.w);return(0,i.cM)(e,c),(0,a.useMemo)((()=>({card:r,refresh:c,setCard:l})),[r])}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const{card:s}=c(e,...n);return s}function d(){const e=(0,r.D)();for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return u(e,...n)}function m(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o];const[r,i]=(0,a.useState)();return(0,a.useEffect)((()=>{async function n(){if(void 0===t)return;const n=await e.cards(...s);for(const e of n)if(e.id===t){i(e);break}}n(),e.render(n)}),[t]),r}},6258:(e,t,n)=>{"use strict";n.d(t,{k:()=>m});var a=n(2791),s=n(1933),o=n(4305),r=n(8286),i=n(1640),l=n(5728),c=n(146),u=n(9416);const d="current_work";function m(){const e=(0,c.D)(),t=(0,s.useQueryClient)(),n=function(e){const t=(0,s.useQuery)(d,(()=>(0,o.X8)(e)),{staleTime:(0,l.y2)(2),cacheTime:1/0,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return(0,u.he)(e,{refresh:t.refetch,callImmediately:!1}),(0,i.D)((()=>{const e=r.W.on(t.refetch);return()=>r.W.off(e)})),t}(e),[m,v]=(0,a.useState)(!1),f=(0,a.useCallback)((async n=>{v(!0),await(0,o.w9)(e,n),t.setQueryData(d,n),v(!1)}),[e,t]);return(0,a.useMemo)((()=>({value:n.data,isSaving:m,set:f})),[n.data,m,f])}},1166:(e,t,n)=>{"use strict";n.d(t,{DP:()=>o});var a=n(2791),s=n(9697);function o(e){return r(e)/1e3/60}function r(e){const[t,n]=(0,a.useState)(0);return(0,a.useEffect)((()=>{if(void 0===e)return void n(0);let t,a=!1;return t=requestAnimationFrame((function o(){n((0,s.ne)(e)),a||(t=requestAnimationFrame(o))})),()=>{a=!0,cancelAnimationFrame(t)}}),[e]),t}},6594:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var a=n(6258),s=n(1166),o=n(6683);function r(e){var t;const n=(0,o.xr)(),r=(0,a.k)(),i=(0,s.DP)(null===(t=r.value)||void 0===t?void 0:t.startDate),l={estimateMinutes:e.estimateMinutes,updatedEstimateMinutes:e.updatedEstimateMinutes,workMinutes:e.workMinutes+i,workMinutesByMember:{...e.workMinutesByMember},remainingMinutes:e.remainingMinutes-i,deltaMinutes:e.deltaMinutes};var c;void 0!=n&&(l.workMinutesByMember[n.id]=(null!==(c=e.workMinutesByMember[n.id])&&void 0!==c?c:0)+i);return l}},6683:(e,t,n)=>{"use strict";n.d(t,{Kb:()=>o,Zt:()=>l,xr:()=>r});var a=n(2791),s=n(146);function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o=(0,a.useState)(),[r,i]=o;return(0,a.useEffect)((()=>{const t=void 0!==n&&n.length>0?n:["id"];e.member(...t).then((e=>i(e)))}),[e]),r}function r(){const e=(0,s.D)();for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o(e,...n)}function i(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[n,s]=(0,a.useState)();return(0,a.useEffect)((()=>{t||void 0!==n||e.board("members").then((e=>{const t={};for(const n of e.members)t[n.id]=n;s(t)}))}),[e,t,n]),n}function l(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,s.D)();for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return i(t,e,...a)}},146:(e,t,n)=>{"use strict";let a;function s(){return void 0===a&&(a=window.TrelloPowerUp.iframe({appName:"Estimate",appKey:"dadac0f685db6faecaa69b90f19ba321"})),a}n.d(t,{D:()=>s})},9416:(e,t,n)=>{"use strict";n.d(t,{cM:()=>o,he:()=>s});var a=n(1640);function s(e,t){(0,a.D)((()=>{t.callImmediately&&t.refresh(),e.render(t.refresh)}))}function o(e,t){return s(e,{refresh:t,callImmediately:!0})}},1640:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var a=n(2791),s=n(5678);function o(e){return(0,a.useEffect)(e,s.w)}},5678:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});const a=[]},1576:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var a=n(2791),s=n(4305),o=n(4802),r=n.n(o),i=n(5728);async function l(e,t){const n=(await(0,s.Vc)(e,"id","name")).filter((e=>e.estimateMinutes>0)),a=[];for(const s of n)a.push({name:s.card.name,minutes:s.estimateMinutes});let o=0;for(const s of n)o+=s.estimateMinutes;if(t>0){const e=o*t;a.push({name:"margin",minutes:e}),o+=e}return a.push({name:"total",minutes:o}),a}async function c(e,t){console.log(e),r()(new Blob([e],{type:"text/plain;charset=utf-8"}),t)}var u=n(146),d=n(1933),m=n(9416);const v="work_sessions";function f(e){const t=(0,d.useQueryClient)(),n=function(e){return(0,d.useQuery)(v,(()=>(0,s.TO)(e)),{staleTime:5e3})}(e);return(0,m.he)(e,{refresh:()=>t.setQueryData(v,void 0),callImmediately:!1}),n}var h=n(732),p=n(6258),w=n(1166),y=n(9697),g=n(9005),M=n(184);function x(e){var t;const n=(0,u.D)(),a=e.session,o=(0,p.k)(),r=(0,w.DP)(void 0===a.endDate?null===(t=o.value)||void 0===t?void 0:t.startDate:void 0),l=a.workMinutes+r;return(0,M.jsxs)("div",{className:"work-session ".concat(e.className),children:["Start: ",(0,g.p)(a.startDate)," | ","Work: ",(0,i.JB)(l),void 0!==a.endDate?[" | ","\u2611"]:null,(0,M.jsx)("button",{className:"mod-danger",onClick:t=>n.popup({type:"confirm",title:"Delete session?",message:"Are you sure you want to delete this session?",confirmText:"Yes",onConfirm:async t=>{var o;const r=await(0,s.TO)(n),i=r.findIndex((e=>(0,y.LZ)(e.startDate,a.startDate)));i>=0&&(r.splice(i,1),await(0,s.qH)(n,r)),null===(o=e.onRefresh)||void 0===o||o.call(e),await t.closePopup()},cancelText:"No",onCancel:e=>e.closePopup(),mouseEvent:t.nativeEvent}),children:"X"})]})}function k(e){var t,n;const s=f((0,u.D)()),[o,r]=(0,a.useState)(!1),i=null!==(t=null===(n=s.data)||void 0===n?void 0:n.length)&&void 0!==t?t:0;return(0,M.jsxs)("div",{className:"work-sessions ".concat(e.className),children:[i>0?(0,M.jsxs)("div",{children:["Work sessions:","   ",i>1?(0,M.jsx)("span",{className:"link-like",onClick:()=>r((e=>!e)),children:o?"hide older":"show all"}):null]}):null,(0,M.jsx)("div",{className:"work-sessions-list",children:void 0===s.data?(0,M.jsx)("p",{children:"Loading..."}):o?s.data.map((e=>(0,M.jsx)(x,{session:e,onRefresh:s.refetch},e.startDate.toISOString()))):i>0?(0,M.jsx)(x,{session:s.data[s.data.length-1],onRefresh:s.refetch}):null})]})}function b(e){const t=(0,u.D)(),n=f(t),[o,r]=(0,a.useState)(!1);return void 0===n.data||0===n.data.length||void 0!==n.data[n.data.length-1].endDate?null:(0,M.jsx)("button",{className:"end-work-session mod-danger ".concat(e.className),onClick:async()=>{o||(r(!0),await(0,s.tm)(t,(async e=>({...e,endDate:new Date}))),await n.refetch(),r(!1))},children:o?"...":"End session"})}var D=n(1868);const j="margin";function E(e){const t=function(e){return(0,d.useQuery)(j,(()=>(0,s.f5)(e)),{staleTime:100})}(e),n=(0,d.useQueryClient)();(0,m.cM)(e,t.refetch);const o=(0,a.useCallback)((async t=>{await(0,s.Uo)(e,t),n.setQueryData(j,t)}),[n]);return(0,a.useMemo)((()=>{var e;return{value:null!==(e=t.data)&&void 0!==e?e:0,set:o}}),[t.data,o])}var S=n(6594);function N(e){var t;const n=(0,u.D)(),[s,o]=(0,a.useState)(""),r=E(n);(0,a.useEffect)((()=>o(r.value.toString())),[r.value]);const l=(0,S.R)(e.summary),c=r.value>0?r.value*e.summary.estimateMinutes:0,d=c>0&&l.deltaMinutes<0?Math.min(-l.deltaMinutes,c):0;return(0,M.jsxs)("div",{className:"margin-input ".concat(null!==(t=e.className)&&void 0!==t?t:""),children:[(0,M.jsx)("input",{type:"number",step:.1,value:s,onChange:e=>o(e.target.value),placeholder:"insert margin multiplier..."}),(0,M.jsx)("button",{onClick:()=>{const e=parseFloat(s);e>0&&r.set(e)},children:"Set Margin"}),(0,M.jsxs)("div",{children:["Margin: ",(0,i.JB)(c)," "," Used: ",(0,i.JB)(d)," "," Left: ",(0,i.JB)(c-d)]})]})}var C=n(5209);function A(){const e=(0,u.D)(),[t,n]=(0,a.useState)(s.Hv),o=E(e),r=f(e),d=function(){const e=(0,u.D)(),[t,n]=(0,a.useState)(null);return(0,m.cM)(e,(async()=>{const t=await(0,s.bS)(e);n(t)})),t}();return(0,m.cM)(e,(async()=>{const t=await(0,s.kS)(e);n(t)})),(0,M.jsxs)("div",{className:"summary",children:[(0,M.jsx)(C.l,{className:"section",summary:t,margin:o.value}),(0,M.jsx)(N,{className:"section",summary:t}),(0,M.jsxs)("div",{className:"section work",children:[(0,M.jsx)(k,{}),(0,M.jsxs)("div",{className:"buttons",children:[(0,M.jsx)(b,{}),(0,M.jsx)(h.b,{onEstimateChanged:()=>r.refetch()})]})]}),d?(0,M.jsxs)("div",{children:["Last activity: ",(0,g.p)(d,"yyyy-MM-dd hh:mm:ss")]}):null,(0,M.jsx)("div",{className:"export-section",children:(0,M.jsxs)("div",{className:"export-inputs",children:[(0,M.jsx)("button",{className:"mod-primary",onClick:async()=>c(await async function(e,t){const n=await l(e,t);let a="Task\tHours";for(const o of n)a+="\n"+o.name+"\t"+(s=o.minutes/60,Math.round(100*s)/100);var s;return a}(e,o.value),"estimate.tsv"),children:"Export estimates"}),(0,M.jsx)("button",{className:"mod-primary",onClick:async()=>c(await async function(e,t){const n=await l(e,t);let a="";for(const s of n)a+=s.name+"  "+(0,i.JB)(s.minutes)+"\n";return a}(e,o.value),"estimate.txt"),children:"Export mail"})]})}),(0,M.jsx)(D.P,{className:"deploy-info"})]})}},9005:(e,t,n)=>{"use strict";function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";return t.replaceAll("yyyy",e.getFullYear().toString()).replaceAll("MM",(e.getMonth()+1).toString().padStart(2,"0")).replaceAll("dd",e.getDate().toString().padStart(2,"0")).replaceAll("hh",e.getHours().toString().padStart(2,"0")).replaceAll("mm",e.getMinutes().toString().padStart(2,"0")).replaceAll("ss",e.getSeconds().toString().padStart(2,"0"))}n.d(t,{p:()=>a})},8282:(e,t,n)=>{"use strict";n.d(t,{D3:()=>i,mY:()=>l});var a=n(4305),s=n(5728),o=n(9697);async function r(e,t){var n,r;const i=await(0,a.TO)(e),l=i[i.length-1];if(void 0===l||void 0!==l.endDate)return null===(n=t.action)||void 0===n?void 0:n.call(t);const c=(0,o.ne)(l.startDate);if(c<(0,s.fg)(2*t.hoursPerDay))return null===(r=t.action)||void 0===r?void 0:r.call(t);const u=(0,s.yz)((0,s.do)(c),{hoursPerDay:24});return new Promise(((n,s)=>{e.popup({type:"confirm",title:"Close old session?",message:"The current session looks old (".concat(u,"), do you want to close it and open a new one to save this work?"),confirmText:"Yes",onConfirm:async s=>{var o;l.endDate=new Date,await(0,a.qH)(e,i),n(null===(o=t.action)||void 0===o?void 0:o.call(t)),await s.closePopup()},cancelText:"No",onCancel:e=>{var a;return n(null===(a=t.action)||void 0===a?void 0:a.call(t)),e.closePopup()},mouseEvent:t.mouseEvent.nativeEvent})}))}function i(e,t){return r(e,{hoursPerDay:t.hoursPerDay,mouseEvent:t.mouseEvent,action:async()=>{var n;await(0,a.tm)(e,(async e=>e)),null===(n=t.action)||void 0===n||n.call(t)}})}function l(e,t){return r(e,{action:()=>(0,a.tm)(e,t.action),hoursPerDay:t.hoursPerDay,mouseEvent:t.mouseEvent})}},4802:function(e,t,n){var a,s,o;s=[],a=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){l(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function s(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,i=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,n){var i=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):s(l.href)?a(e,t,n):o(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,r){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),n);else if(s(e))a(e,n,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){o(i)}))}}:function(e,t,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},u.readAsDataURL(e)}else{var d=r.URL||r.webkitURL,m=d.createObjectURL(e);s?s.location=m:location.href=m,s=null,setTimeout((function(){d.revokeObjectURL(m)}),4e4)}});r.saveAs=l.saveAs=l,e.exports=l},void 0===(o="function"===typeof a?a.apply(t,s):a)||(e.exports=o)}}]);
//# sourceMappingURL=576.08e6c4fe.chunk.js.map