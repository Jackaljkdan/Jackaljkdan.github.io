"use strict";(self.webpackChunkestimate_powerup=self.webpackChunkestimate_powerup||[]).push([[688],{1868:function(t,e,n){n.d(e,{P:function(){return o}});n(2791);var r=n(184);function i(){return(0,r.jsxs)(r.Fragment,{children:["Served from: ",window.location.host]})}function a(){return(0,r.jsxs)(r.Fragment,{children:["Version: ","0.15.3"]})}function o(t){return(0,r.jsxs)("div",{className:t.className,children:[(0,r.jsx)("span",{className:"deploy-text",children:(0,r.jsx)(a,{})}),(0,r.jsx)("span",{className:"deploy-text",children:(0,r.jsx)(i,{})})]})}},9688:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(2431),i=n(1675);var a=n(8214),o=n(5861),c=n(4305),u=n(5728),s=n(9697),l=n(3265);function d(){return(d=(0,o.Z)((0,a.Z)().mark((function t(e,n){var r,i,o,d,p,f,m,h,g;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.card("id","dueComplete");case 2:return r=t.sent,t.next=5,(0,c.oc)(e);case 5:return i=t.sent,t.next=8,(0,c.X8)(e);case 8:if(o=t.sent,d=(0,c.y7)(i),p=(0,c.V9)(i,r.dueComplete,d),0!==i.estimateMinutes||0!==d||(null===o||void 0===o?void 0:o.cardId)===r.id){t.next=13;break}throw e.NotHandled();case 13:return(null===o||void 0===o?void 0:o.cardId)===r.id&&(f=(0,s.Zd)(o.startDate),d+=f,p-=f),m=d>0?"| W: ".concat((0,u.JB)(d)):"",h=(0,l.M)({cardId:r.id,estimate:i,totalWorkMinutes:d}),g=r.dueComplete?0!==h?"| ".concat((0,l.W)({delta:h,short:!0})):"":"| R: ".concat((0,u.JB)(p)),t.abrupt("return",{text:"E: ".concat((0,u.JB)(i.updatedEstimateMinutes||i.estimateMinutes)," ").concat(m," ").concat(g),icon:n,color:r.id===(null===o||void 0===o?void 0:o.cardId)?"red":r.dueComplete?h>=0?"green":"yellow":void 0,refresh:10});case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e){return[{dynamic:function(){return function(t,e){return d.apply(this,arguments)}(t,e.icon.light)}}]}function f(){return f=(0,o.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{text:"Show list estimate summary",callback:function(){var t=(0,o.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.popup({title:"List estimate summary",url:e.signUrl((0,i.u)("/list-summary"))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]);case 1:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}var m={icon:{dark:(0,r.G)("/logo192.png",{absolute:!0}),light:(0,r.G)("/logo192.png",{absolute:!0})}};var h=n(2168),g=n(2577);console.log("initializing capabilities"),window.TrelloPowerUp.initialize({"board-buttons":function(t){return[{icon:{dark:(e=m).icon.dark,light:e.icon.light},text:"Estimate",callback:function(t){return t.modal({title:"Estimate",url:t.signUrl((0,i.u)("/board-page")),fullscreen:!1,height:400})},condition:"edit"}];var e},"card-back-section":function(t){return function(t,e){return{title:"Estimate",icon:e.icon.dark,content:{type:"iframe",url:t.signUrl((0,i.u)("/card-back-section",{absolute:!0})),height:210}}}(t,m)},"card-badges":function(t){return p(t,m)},"list-actions":function(t){return function(t,e){return f.apply(this,arguments)}(t,m)}}),(0,h.Q)();var v=g.default},2577:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});n(2791),n(657);var r=n(7861),i=n(7807),a=n(1868),o=n(184);function c(){return(0,o.jsx)("div",{className:"App",children:(0,o.jsxs)("header",{className:"App-header",children:[(0,o.jsx)("img",{src:r,className:"App-logo",alt:"logo"}),(0,o.jsx)("p",{children:"This is the Estimate Trello Powerup welcome page."}),(0,o.jsx)(a.P,{}),(0,o.jsx)(i.F,{to:"/dummy",children:"Dummy page"}),(0,o.jsx)(i.F,{to:"/board-page",children:"Board page"}),(0,o.jsx)(i.F,{to:"/card-back-section",children:"Card back section page"})]})})}},7807:function(t,e,n){n.d(e,{F:function(){return o}});var r=n(1413),i=(n(2791),n(1675)),a=n(184);function o(t){return(0,a.jsx)("a",(0,r.Z)((0,r.Z)({},t),{},{href:(0,i.u)(t.to),children:t.children}))}},1675:function(t,e,n){n.d(e,{u:function(){return i}});var r=n(2431);function i(t,e){return(0,r.G)("?path="+t,e)}},9005:function(t,e,n){function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";return e.replaceAll("yyyy",t.getFullYear().toString()).replaceAll("MM",(t.getMonth()+1).toString().padStart(2,"0")).replaceAll("dd",t.getDate().toString().padStart(2,"0")).replaceAll("hh",t.getHours().toString().padStart(2,"0")).replaceAll("mm",t.getMinutes().toString().padStart(2,"0")).replaceAll("ss",t.getSeconds().toString().padStart(2,"0"))}n.d(e,{p:function(){return r}})},2168:function(t,e,n){n.d(e,{Q:function(){return a},b:function(){return o}});var r=n(9005),i="exit.datetime";function a(){window.addEventListener("pagehide",(function(t){localStorage.setItem(i,JSON.stringify(new Date))}));var t=o();console.log(i+": "+(t?(0,r.p)(t,"yyyy-MM-dd hh:mm:ss"):"null"))}function o(){var t=JSON.parse(localStorage.getItem(i));return t?new Date(t):null}},2431:function(t,e,n){function r(t,e){var n="/estimate-powerup"+t;return null!==e&&void 0!==e&&e.absolute?window.location.origin+n:n}n.d(e,{G:function(){return r}})},657:function(){},7861:function(t,e,n){t.exports=n.p+"static/media/e.9f14f730419b76f670f5.png"}}]);
//# sourceMappingURL=688.dbc9cbd1.chunk.js.map