{"version":3,"file":"static/js/265.383e10f6.chunk.js","mappings":"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","sources":["api/estimateApi.ts","api/events/apiEvents.ts","jk/events/createEvent.ts","utils/dateMath.ts","utils/mathParsing.ts","utils/timeParsing.ts","utils/workDelta.ts","../node_modules/eventemitter3/index.js"],"sourcesContent":["import { Trello } from \"../types/trello\";\nimport { currentWorkChangedEvent } from \"./events/apiEvents\";\n\nexport type UserMinutes = {\n    [key: string]: number,\n}\n\nexport type Estimate = {\n    estimateMinutes: number,\n    updatedEstimateMinutes: number,\n    workMinutes: UserMinutes,\n}\n\ntype EstimateWithCard = Estimate & {\n    card: Trello.PowerUp.Card,\n}\n\nexport type SummaryEstimate = {\n    estimateMinutes: number,\n    updatedEstimateMinutes: number,\n    workMinutes: number,\n    workMinutesByMember: UserMinutes,\n    remainingMinutes: number,\n    deltaMinutes: number,\n}\n\nexport const emptySummary: SummaryEstimate = {\n    estimateMinutes: 0,\n    updatedEstimateMinutes: 0,\n    workMinutes: 0,\n    workMinutesByMember: {},\n    remainingMinutes: 0,\n    deltaMinutes: 0,\n};\n\nexport type CurrentWork = {\n    cardId: string,\n    startDate: Date,\n}\n\nexport type WorkSession = {\n    startDate: Date,\n    endDate?: Date,\n    workMinutes: number,\n}\n\nexport async function getMyWorkMinutes(estimate: Estimate, t: Trello.PowerUp.IFrame): Promise<number> {\n    const me = await t.member(\"id\");\n    return estimate.workMinutes[me.id];\n}\n\nexport function getTotalWorkMinutes(estimate: Estimate) {\n    let sum = 0;\n    for (const workerId in estimate.workMinutes)\n        sum += estimate.workMinutes[workerId];\n    return sum;\n}\n\nexport function getRemainingWorkMinutes(estimate: Estimate, dueComplete: boolean, totalWorkMinutes?: number) {\n    if (dueComplete)\n        return 0;\n\n    if (totalWorkMinutes === undefined)\n        totalWorkMinutes = getTotalWorkMinutes(estimate);\n\n    return (estimate.updatedEstimateMinutes || estimate.estimateMinutes) - totalWorkMinutes;\n}\n\nexport function* enumerateWork(estimate: Estimate) {\n    for (const memberId in estimate.workMinutes) {\n        yield {\n            memberId,\n            minutes: estimate.workMinutes[memberId],\n        };\n    }\n}\n\nexport function* enumerateWorkSummary(summary: SummaryEstimate) {\n    for (const memberId in summary.workMinutesByMember) {\n        yield {\n            memberId,\n            minutes: summary.workMinutesByMember[memberId],\n        };\n    }\n}\n\nexport function getUpdatedEstimate(estimate: Estimate) {\n    if (estimate.updatedEstimateMinutes !== 0)\n        return estimate.updatedEstimateMinutes;\n    else\n        return estimate.estimateMinutes;\n}\n\nexport async function getCardEstimate(t: Trello.PowerUp.IFrame, cardId?: string): Promise<Estimate> {\n    const estimate = JSON.parse(await t.get(cardId ?? \"card\", \"shared\", \"estimate\", \"null\")) as Estimate;\n    if (estimate === null) {\n        return {\n            estimateMinutes: 0,\n            updatedEstimateMinutes: 0,\n            workMinutes: {},\n        };\n    }\n    return estimate;\n}\n\nexport async function setCardEstimate(t: Trello.PowerUp.IFrame, estimate: Estimate, cardId?: string) {\n    await t.set(cardId ?? \"card\", \"shared\", \"estimate\", JSON.stringify(estimate));\n    await setLastInputTimeToNow(t);\n    return estimate;\n}\n\nexport async function modMyCardWorkInSession(t: Trello.PowerUp.IFrame, workMinutesDelta: number, cardId?: string) {\n    const member = await t.member(\"id\");\n    const estimate = await getCardEstimate(t, cardId);\n    await setCardEstimate(\n        t,\n        {\n            ...estimate,\n            workMinutes: {\n                ...estimate.workMinutes,\n                [member.id]: (estimate.workMinutes[member.id] ?? 0) + workMinutesDelta,\n            },\n        },\n        cardId,\n    );\n    await editCurrentWorkSession(t, async session => ({\n        ...session,\n        workMinutes: session.workMinutes + workMinutesDelta,\n    }));\n}\n\nexport async function getAllCardsEstimates(t: Trello.PowerUp.IFrame, ...fields: (keyof Trello.PowerUp.Card)[]) {\n    if (fields === undefined || fields.length === 0)\n        fields = [\"id\"];\n\n    const cards: Trello.PowerUp.Card[] = await t.cards(...fields);\n    return await Promise.all(cards.map(card =>\n        getCardEstimate(t, card.id).then(estimate => ({\n            ...estimate,\n            card: card,\n        }))));\n}\n\nexport async function getBoardEstimates(t: Trello.PowerUp.IFrame) {\n    const estimatedCards = await getAllCardsEstimates(t, \"id\", \"dueComplete\");\n    return getSummaryEstimate(estimatedCards);\n}\n\nexport function getSummaryEstimate(estimatedCards: EstimateWithCard[]) {\n    const summary: SummaryEstimate = {\n        estimateMinutes: 0,\n        updatedEstimateMinutes: 0,\n        workMinutes: 0,\n        workMinutesByMember: {},\n        remainingMinutes: 0,\n        deltaMinutes: 0,\n    };\n\n    for (const estimate of estimatedCards) {\n        summary.estimateMinutes += estimate.estimateMinutes;\n\n        const totalWorkMinutes = getTotalWorkMinutes(estimate);\n        summary.workMinutes += totalWorkMinutes;\n\n        for (const workerId in estimate.workMinutes) {\n            summary.workMinutesByMember[workerId] ??= 0;\n            summary.workMinutesByMember[workerId] += estimate.workMinutes[workerId];\n        }\n\n        const remaining = getRemainingWorkMinutes(estimate, estimate.card.dueComplete);\n        summary.remainingMinutes += remaining > 0 ? remaining : 0;\n\n        summary.updatedEstimateMinutes += !estimate.card.dueComplete\n            ? (estimate.updatedEstimateMinutes || estimate.estimateMinutes)\n            : totalWorkMinutes;\n\n        if (estimate.card.dueComplete || totalWorkMinutes > estimate.estimateMinutes)\n            summary.deltaMinutes += estimate.estimateMinutes - totalWorkMinutes;\n    }\n\n    return summary;\n}\n\nexport async function getListEstimates(t: Trello.PowerUp.IFrame) {\n    const trelloList = await t.list(\"id\", \"cards\");\n\n    const estimatedCards: EstimateWithCard[] = [];\n\n    for (const card of trelloList.cards) {\n        const estimate = await getCardEstimate(t, card.id);\n        estimatedCards.push({\n            card,\n            ...estimate,\n        });\n    }\n\n    return getSummaryEstimate(estimatedCards);\n}\n\nexport async function getCurrentWork(t: Trello.PowerUp.IFrame) {\n    // console.log(\"getting current work\");\n\n    const currentWork = JSON.parse(await t.get(\"board\", \"private\", \"work\", \"null\")) as CurrentWork | null;\n\n    if (currentWork !== null)\n        // js parses dates as strings so i have to convert it here\n        currentWork.startDate = new Date(currentWork.startDate);\n\n    return currentWork;\n}\n\nexport async function setCurrentWork(t: Trello.PowerUp.IFrame, currentWork: CurrentWork | null) {\n    // console.log(\"setting current work\");\n    await t.set(\"board\", \"private\", \"work\", JSON.stringify(currentWork ?? null));\n    currentWorkChangedEvent.emit();\n}\n\nexport async function getWorkSessions(t: Trello.PowerUp.IFrame) {\n    const stored = await t.get(\"board\", \"private\", \"work_sessions\", \"[]\");\n    const sessions = JSON.parse(stored) as WorkSession[];\n    // console.log(\"stored sessions:\", sessions);\n\n    for (const s of sessions) {\n        s.startDate = new Date(s.startDate);\n        if (s.endDate !== undefined)\n            s.endDate = new Date(s.endDate);\n    }\n\n    return sessions;\n}\n\nexport async function setWorkSessions(t: Trello.PowerUp.IFrame, sessions: WorkSession[]) {\n    await t.set(\"board\", \"private\", \"work_sessions\", JSON.stringify(sessions));\n}\n\nconst maxWorkSessions = 32;\n\nfunction addWorkSession(sessions: WorkSession[]) {\n    if (sessions.length >= maxWorkSessions)\n        sessions.shift();\n\n    const added: WorkSession = {\n        startDate: new Date(),\n        workMinutes: 0,\n    };\n\n    sessions.push(added);\n\n    return added;\n}\n\nexport async function editCurrentWorkSession(t: Trello.PowerUp.IFrame, action: (session: WorkSession) => Promise<WorkSession>) {\n    // console.log((\"editing current work session\"));\n\n    const sessions = await getWorkSessions(t);\n    let current = sessions[sessions.length - 1];\n\n    if (current === undefined || current.endDate !== undefined)\n        current = addWorkSession(sessions);\n\n    sessions[sessions.length - 1] = await action(current);\n\n    await setWorkSessions(t, sessions);\n}\n\nexport async function getMarginMultiplier(t: Trello.PowerUp.IFrame) {\n    const margin = await t.get(\"board\", \"shared\", \"margin\", 0.2) as number;\n    return margin;\n}\n\nexport async function setMaringMultiplier(t: Trello.PowerUp.IFrame, marginMultiplier: number) {\n    await t.set(\"board\", \"shared\", \"margin\", marginMultiplier);\n}\n\nexport async function getLastInputTime(t: Trello.PowerUp.IFrame): Promise<Date | null> {\n    let time = await t.get(\"board\", \"private\", \"last_input_time\", null);\n\n    if (time)\n        time = new Date(time);\n\n    // console.log(\"got last input time:\", time);\n\n    return time;\n}\n\nexport async function setLastInputTime(t: Trello.PowerUp.IFrame, time: Date) {\n    // console.log(\"setting last input time @\", time);\n    await t.set(\"board\", \"private\", \"last_input_time\", time);\n}\n\nexport async function setLastInputTimeToNow(t: Trello.PowerUp.IFrame) {\n    setLastInputTime(t, new Date());\n}\n","import EventEmitter from \"eventemitter3\";\r\nimport { createEvent } from \"../../jk/events/createEvent\";\r\n\r\nexport const apiEventEmitter = new EventEmitter();\r\n\r\nexport const currentWorkChangedEvent = createEvent<void>(apiEventEmitter, \"work.current.changed\");\r\n","import EventEmitter from \"eventemitter3\";\r\n\r\ninterface Listener<T> {\r\n    (arg: T): void;\r\n}\r\n\r\nexport type Event<T> = {\r\n    on: (listener: Listener<T>) => Listener<T>;\r\n    once: (listener: Listener<T>) => Listener<T>;\r\n    off: (listener: Listener<T>) => Listener<T>;\r\n    emit: (arg: T) => void;\r\n}\r\n\r\nexport function createEvent<T>(eventEmitter: EventEmitter, key: string): Event<T> {\r\n    return {\r\n        on: listener => {\r\n            eventEmitter.on(key, listener);\r\n            return listener;\r\n        },\r\n        once: listener => {\r\n            eventEmitter.once(key, listener);\r\n            return listener;\r\n        },\r\n        off: listener => {\r\n            eventEmitter.off(key, listener);\r\n            return listener;\r\n        },\r\n        emit: arg => eventEmitter.emit(key, arg),\r\n    };\r\n}\r\n","import { minutesToMs, msToMinutes } from \"./timeParsing\";\n\nexport function addMinutesToDate(date: Date, minutes: number) {\n    return new Date(date.getTime() + minutesToMs(minutes));\n}\n\nexport function getMsBetween(earlierDate: Date, laterDate: Date) {\n    return laterDate.getTime() - earlierDate.getTime();\n}\n\nexport function getMinutesBetween(earlierDate: Date, laterDate: Date) {\n    return msToMinutes(getMsBetween(earlierDate, laterDate));\n}\n\nexport function getElapsedMs(date: Date) {\n    return Date.now() - date.getTime();\n}\n\nexport function getElapsedSeconds(date: Date) {\n    return getElapsedMs(date) / 1000;\n}\n\nexport function getElapsedMinutes(date: Date) {\n    return getElapsedMs(date) / 1000 / 60;\n}\n\nexport function areDatesEqual(date1: Date, date2: Date) {\n    return date1?.getTime() === date2?.getTime();\n}\n","\nexport function evaluateMathExpression(expression: string) {\n    if (/^[0-9.()+*-/]+$/.test(expression)) {\n        try {\n            return eval(expression) as number;\n        }\n        catch (error) {\n            return NaN;\n        }\n    }\n    else {\n        return NaN;\n    }\n}\n","import { Trello } from \"../types/trello\";\nimport { evaluateMathExpression } from \"./mathParsing\";\n\nexport const hoursPerDay = 8;\n\nexport function parseTimeDelta(timeDeltaString: string) {\n    timeDeltaString = timeDeltaString.replaceAll(\" \", \"\");\n    timeDeltaString = timeDeltaString.replaceAll(\",\", \".\");\n    timeDeltaString = timeDeltaString.toLowerCase();\n\n    if (!/^([^a-z]+[a-z]+)+$/.test(timeDeltaString)) {\n        // console.log(\"desk rejected\");\n        return NaN;\n    }\n\n    let minutes = 0;\n\n    for (const match of timeDeltaString.matchAll(/([^a-z]+)([a-z]+)/g)) {\n        const timeLabel = match[2];\n\n        if (timeLabel.length !== 1)\n            return NaN;\n\n        let multiplier: number;\n\n        if (timeLabel === \"m\")\n            multiplier = 1;\n        else if (timeLabel === \"h\")\n            multiplier = 60;\n        else if (timeLabel === \"d\")\n            multiplier = 60 * hoursPerDay;\n        else\n            return NaN;\n\n        const expressionResult = evaluateMathExpression(match[1]);\n\n        if (isNaN(expressionResult))\n            return NaN;\n\n        minutes += multiplier * expressionResult;\n    }\n\n    if (minutes <= 0)\n        return NaN;\n\n    return minutes;\n}\n\nexport function parseAndRun<T>(t: Trello.PowerUp.IFrame, [input, setInput]: UsedState<string>, action: (parsedMinutes: number) => T) {\n    const parsedMinutes = parseTimeDelta(input);\n\n    if (isNaN(parsedMinutes)) {\n        t.alert({\n            display: \"error\",\n            message: \"invalid input\",\n            duration: 4,\n        });\n        return;\n    }\n\n    const val = action(parsedMinutes);\n\n    setInput(\"\");\n\n    return val;\n}\n\nexport type FormatMinutesOptions = {\n    zero: string,\n    negative: string,\n    hoursPerDay: number,\n}\n\nconst defaultOptions: FormatMinutesOptions = {\n    zero: \"none\",\n    negative: \"?\",\n    hoursPerDay: 8,\n};\n\nexport function formatMinutes(minutes: number) {\n    return formatMinutesWithOptions(minutes );\n}\n\nexport function formatMinutesWithOptions(minutes: number, options: Partial<FormatMinutesOptions> = defaultOptions) {\n    if (isNaN(minutes))\n        return \"NaN\";\n\n    if (minutes < 0)\n        return options.negative ?? defaultOptions.negative;\n\n    if (minutes === 0)\n        return options.zero ?? defaultOptions.zero;\n\n    const hoursPerDay = options.hoursPerDay ?? defaultOptions.hoursPerDay;\n\n    let minutesPart = Math.floor(minutes % 60);\n    const flooredHours = Math.floor(minutes / 60);\n    const hoursPart = flooredHours % hoursPerDay;\n    const daysPart = Math.floor(flooredHours / hoursPerDay);\n\n    let secondsPart = 0;\n\n    // show seconds only if minutes < 1\n    if (minutes < 1) {\n        secondsPart = Math.round(minutes * 60);\n        minutesPart = 0;\n    }\n\n    let str = \"\";\n\n    if (daysPart > 0)\n        str += daysPart + \"d\";\n    if (hoursPart > 0)\n        str += hoursPart + \"h\";\n    if (minutesPart > 0)\n        str += minutesPart + \"m\";\n    if (secondsPart > 0)\n        str += secondsPart + \"s\";\n\n    return str;\n}\n\nexport function minutesToMs(minutes: number) {\n    return minutes * 60 * 1000;\n}\n\nexport function hoursToMs(hours: number) {\n    return minutesToMs(hours * 60);\n}\n\nexport function msToMinutes(ms: number) {\n    return (ms / 1000) / 60;\n}\n","import { CurrentWork, Estimate, getTotalWorkMinutes } from \"../api/estimateApi\";\nimport { Trello } from \"../types/trello\";\nimport { getElapsedMinutes } from \"./dateMath\";\nimport { formatMinutes } from \"./timeParsing\";\n\ntype Args = {\n    cardId: Trello.PowerUp.Card[\"id\"] | undefined,\n    estimate: Estimate,\n    totalWorkMinutes?: number,\n    currentWork?: CurrentWork | null | undefined,\n}\n\nexport function getWorkDelta(args: Args) {\n    let totalWorkMinutes = args.totalWorkMinutes ?? getTotalWorkMinutes(args.estimate);\n\n    if (args.currentWork != null && args.currentWork.cardId === args.cardId)\n        totalWorkMinutes += getElapsedMinutes(args.currentWork.startDate);\n\n    return args.estimate.estimateMinutes - totalWorkMinutes;\n}\n\ntype FormattedArgs = {\n    delta: number,\n    short?: boolean,\n}\n\nexport function formatWorkDelta({ delta, short }: FormattedArgs) {\n    if (delta >= 0) {\n        if (short)\n            return \"S: \" + formatMinutes(delta);\n        else\n            return \"Saved: \" + formatMinutes(delta);\n    }\n    else {\n        if (short)\n            return \"O: \" + formatMinutes(-delta);\n        else\n            return \"Overtime: \" + formatMinutes(-delta);\n    }\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n"],"names":["emptySummary","estimateMinutes","updatedEstimateMinutes","workMinutes","workMinutesByMember","remainingMinutes","deltaMinutes","getTotalWorkMinutes","estimate","sum","workerId","getRemainingWorkMinutes","dueComplete","totalWorkMinutes","undefined","enumerateWork","memberId","minutes","enumerateWorkSummary","summary","getUpdatedEstimate","async","getCardEstimate","t","cardId","JSON","parse","get","setCardEstimate","set","stringify","time","setLastInputTime","Date","setLastInputTimeToNow","modMyCardWorkInSession","workMinutesDelta","member","id","editCurrentWorkSession","session","getAllCardsEstimates","fields","length","cards","Promise","all","map","card","then","getBoardEstimates","getSummaryEstimate","estimatedCards","remaining","getListEstimates","trelloList","list","push","getCurrentWork","currentWork","startDate","setCurrentWork","currentWorkChangedEvent","getWorkSessions","stored","sessions","s","endDate","setWorkSessions","action","current","shift","added","addWorkSession","getMarginMultiplier","setMaringMultiplier","marginMultiplier","getLastInputTime","apiEventEmitter","EventEmitter","eventEmitter","key","on","listener","once","off","emit","arg","addMinutesToDate","date","getTime","minutesToMs","getMinutesBetween","earlierDate","laterDate","msToMinutes","getMsBetween","getElapsedMs","now","getElapsedSeconds","getElapsedMinutes","areDatesEqual","date1","date2","evaluateMathExpression","expression","test","NaN","eval","error","hoursPerDay","parseAndRun","input","setInput","parsedMinutes","timeDeltaString","replaceAll","toLowerCase","match","matchAll","timeLabel","multiplier","expressionResult","isNaN","parseTimeDelta","alert","display","message","duration","val","defaultOptions","zero","negative","formatMinutes","formatMinutesWithOptions","options","minutesPart","Math","floor","flooredHours","hoursPart","daysPart","secondsPart","round","str","hoursToMs","hours","ms","getWorkDelta","args","formatWorkDelta","delta","short","has","Object","prototype","hasOwnProperty","prefix","Events","EE","fn","context","this","addListener","emitter","event","TypeError","evt","_events","_eventsCount","clearEvent","create","__proto__","eventNames","events","name","names","call","slice","getOwnPropertySymbols","concat","listeners","handlers","i","l","ee","Array","listenerCount","a1","a2","a3","a4","a5","len","arguments","removeListener","apply","j","removeAllListeners","prefixed","module","exports"],"sourceRoot":""}