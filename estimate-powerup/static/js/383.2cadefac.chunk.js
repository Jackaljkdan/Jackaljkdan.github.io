"use strict";(self.webpackChunkestimate_powerup=self.webpackChunkestimate_powerup||[]).push([[383],{4584:function(e,n,t){t.d(n,{l:function(){return c}});t(2791);var r=t(6258),i=t(1166),u=t(5728),a=t(3265),s=t(184);function c(e){var n,t,c=e.summary,o=(0,r.k)(),f=(0,i.DP)(null===(n=o.value)||void 0===n?void 0:n.startDate);if(!c)return null;var d={estimateMinutes:c.estimateMinutes,updatedEstimateMinutes:c.updatedEstimateMinutes,workMinutes:c.workMinutes+f,remainingMinutes:c.remainingMinutes-f,deltaMinutes:c.deltaMinutes},l=(null!==(t=e.margin)&&void 0!==t?t:0)>0?e.margin*c.estimateMinutes:0,m=d.updatedEstimateMinutes>0&&d.updatedEstimateMinutes!==d.estimateMinutes;return(0,s.jsxs)("div",{className:e.className,children:[(0,s.jsxs)("div",{children:[m&&"Original ","Estimate: ",(0,u.JB)(d.estimateMinutes),l>0?[" "," (+ margin: ",(0,u.JB)(l),")"]:null]}),m?(0,s.jsxs)("div",{children:["Updated Estimate: ",(0,u.JB)(d.updatedEstimateMinutes)]}):null,(0,s.jsxs)("div",{children:["Work: ",(0,u.JB)(d.workMinutes)]}),(0,s.jsxs)("div",{children:["Remaining: ",(0,u.JB)(d.remainingMinutes)]}),(0,s.jsx)("div",{children:(0,a.W)({delta:c.deltaMinutes})})]})}},6258:function(e,n,t){t.d(n,{k:function(){return h}});var r=t(8214),i=t(5861),u=t(885),a=t(2791),s=t(1933),c=t(4305),o=t(8286),f=t(1640),d=t(5728),l=t(146),m=t(9416),v="current_work";function h(){var e=(0,l.D)(),n=(0,s.useQueryClient)(),t=function(e){var n=(0,s.useQuery)(v,(function(){return(0,c.X8)(e)}),{staleTime:(0,d.y2)(2),cacheTime:1/0,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return(0,m.he)(e,{refresh:n.refetch,callImmediately:!1}),(0,f.D)((function(){var e=o.W.on(n.refetch);return function(){return o.W.off(e)}})),n}(e),h=(0,a.useState)(!1),p=(0,u.Z)(h,2),M=p[0],w=p[1],x=(0,a.useCallback)(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.next=3,(0,c.w9)(e,i);case 3:n.setQueryData(v,i),w(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,n]);return(0,a.useMemo)((function(){return{value:t.data,isSaving:M,set:x}}),[t.data,M,x])}},1166:function(e,n,t){t.d(n,{DP:function(){return a}});var r=t(885),i=t(2791),u=t(9697);function a(e){return s(e)/1e3/60}function s(e){var n=(0,i.useState)(0),t=(0,r.Z)(n,2),a=t[0],s=t[1];return(0,i.useEffect)((function(){if(void 0!==e){var n,t=!1;return n=requestAnimationFrame((function r(){s((0,u.ne)(e)),t||(n=requestAnimationFrame(r))})),function(){t=!0,cancelAnimationFrame(n)}}s(0)}),[e]),a}},146:function(e,n,t){var r;function i(){return void 0===r&&(r=window.TrelloPowerUp.iframe({appName:"Estimate",appKey:"dadac0f685db6faecaa69b90f19ba321"})),r}t.d(n,{D:function(){return i}})},9416:function(e,n,t){t.d(n,{cM:function(){return u},he:function(){return i}});var r=t(1640);function i(e,n){(0,r.D)((function(){n.callImmediately&&n.refresh(),e.render(n.refresh)}))}function u(e,n){return i(e,{refresh:n,callImmediately:!0})}},1640:function(e,n,t){t.d(n,{D:function(){return u}});var r=t(2791),i=t(5678);function u(e){return(0,r.useEffect)(e,i.w)}},5678:function(e,n,t){t.d(n,{w:function(){return r}});var r=[]},2383:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(8214),i=t(5861),u=t(885),a=t(2791),s=t(4305),c=t(4584),o=t(146),f=t(1640),d=t(184);function l(){var e=(0,o.D)(),n=(0,a.useState)(""),t=(0,u.Z)(n,2),l=t[0],m=t[1],v=(0,a.useState)(),h=(0,u.Z)(v,2),p=h[0],M=h[1];return(0,f.D)((function(){(0,i.Z)((0,r.Z)().mark((function n(){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.list("id","name");case 2:return t=n.sent,m(t.name),n.next=6,(0,s.VS)(e);case 6:i=n.sent,M(i);case 8:case"end":return n.stop()}}),n)})))()})),p?(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:["Summary for list: ",l]}),(0,d.jsx)(c.l,{summary:p})]}):(0,d.jsx)("div",{children:"Loading..."})}}}]);
//# sourceMappingURL=383.2cadefac.chunk.js.map